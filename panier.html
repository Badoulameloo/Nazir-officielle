<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VOTRE PANIER | NAZIR</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <nav class="navbar">
        <div class="nav-left">
            <a href="index.html">HOME</a>
            <a href="heritage.html">HÉRITAGE</a>
            <a href="contact.html">CONTACT</a>
        </div>
        <div class="nav-logo">
            <img src="img/img.logo.jpeg.png" alt="NAZIR">
        </div>
        <div class="nav-right">
        <a href="panier.html" id="cart-count-nav">PANIER (0)</a>
        </div>
    </nav>

    <main class="cart-container">
        <h1>VOTRE PANIER</h1>

        <div id="cart-wrapper">
            </div>
    </main>

   <script>
function afficherPanier() {
    const wrapper = document.getElementById('cart-wrapper');
    let panier = JSON.parse(localStorage.getItem('monPanier')) || [];
    let total = 0;

    if (panier.length === 0) {
        wrapper.innerHTML = `<div style="text-align:center; padding:50px;"><p>Votre panier est vide.</p></div>`;
        return;
    }

    let html = '<div class="cart-content">';
    
    // Boucle pour afficher chaque produit
    panier.forEach((produit, index) => {
        total += parseInt(produit.prix);
        html += `
            <div class="cart-item" style="margin-bottom: 20px; border-bottom: 1px solid #333; padding-bottom: 10px;">
                <div class="cart-item-image"><img src="${produit.image}" width="80"></div>
                <div class="cart-item-details">
                    <h3>${produit.nom}</h3>
                    <p>TAILLE: ${produit.taille}</p>
                    <p class="price">${produit.prix} CFA</p>
                </div>
                <button onclick="supprimerArticle(${index})" style="background:none; color:red; border:none; cursor:pointer;">SUPPRIMER</button>
            </div>`;
    });

    html += `
        <div class="cart-summary">
            <h3>TOTAL: ${total} CFA</h3>
            <a href="paiement.html" class="checkout-btn">PASSER AU PAIEMENT</a>
        </div>
    </div>`;
    
    wrapper.innerHTML = html;
}

function supprimerArticle(index) {
    let panier = JSON.parse(localStorage.getItem('monPanier')) || [];
    panier.splice(index, 1); // Supprime l'article à la position index
    localStorage.setItem('monPanier', JSON.stringify(panier));
    afficherPanier();
}

window.onload = afficherPanier;
</script>